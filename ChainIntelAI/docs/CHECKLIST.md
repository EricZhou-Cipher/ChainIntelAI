# ChainIntelAI 上线 Checklist

## 1. 代码与配置

### 1.1 代码管理

- [ ] Git 标签已创建：`v1.0.0`
- [ ] 主分支所有 PR 已合并
- [ ] 所有 TODO 和 FIXME 已处理
- [ ] TypeScript 严格模式无警告

### 1.2 配置管理

- [ ] `.env.example` 包含所有必要配置项
- [ ] 已移除所有硬编码的敏感信息
- [ ] 配置项已分环境：
  - [ ] `.env.development`
  - [ ] `.env.test`
  - [ ] `.env.production`
- [ ] 配置项已完整注释说明

### 1.3 依赖管理

- [ ] `package.json` 所有依赖版本已锁定
- [ ] `yarn.lock` 已更新
- [ ] 无高危依赖（运行 `yarn audit` 检查）
- [ ] 所有依赖都有明确用途

## 2. 基础功能

### 2.1 事件处理

- [ ] 事件监听正常
  - [ ] 支持多链监听
  - [ ] 支持断点续传
  - [ ] 支持并发处理
- [ ] 事件标准化正常
  - [ ] 地址格式验证
  - [ ] 数值格式验证
  - [ ] 合约调用解析

### 2.2 风险分析

- [ ] 画像加载正常
  - [ ] 支持缓存
  - [ ] 支持批量查询
  - [ ] 超时处理
- [ ] AI 分析服务正常
  - [ ] 模型加载正常
  - [ ] 异常降级处理
  - [ ] 结果缓存机制
- [ ] 风险评分计算正常
  - [ ] 权重配置合理
  - [ ] 阈值设置合理
  - [ ] 组合规则生效

### 2.3 通知分发

- [ ] 支持多渠道通知
  - [ ] Slack
  - [ ] 钉钉
  - [ ] 飞书
- [ ] 通知模板完整
- [ ] 通知限流机制
- [ ] 通知失败重试

### 2.4 数据存储

- [ ] 事件存档完整
- [ ] 分析结果存档
- [ ] 通知记录存档
- [ ] 数据清理策略

## 3. 测试与覆盖率

### 3.1 单元测试

- [ ] 所有单元测试通过
- [ ] 测试覆盖率达标：
  - [ ] Statements ≥ 85%
  - [ ] Branches ≥ 80%
  - [ ] Functions ≥ 85%
  - [ ] Lines ≥ 85%
- [ ] 边界条件测试完整
- [ ] 异常处理测试完整

### 3.2 集成测试

- [ ] 所有集成测试通过
- [ ] Pipeline 完整流程测试
- [ ] 外部服务交互测试
- [ ] 性能压力测试

### 3.3 CI/CD

- [ ] GitHub Actions 配置正确
- [ ] 测试自动运行正常
- [ ] 覆盖率检查正常
- [ ] 通知发送正常

## 4. 安全与合规

### 4.1 访问控制

- [ ] API 认证机制完整
- [ ] 权限控制合理
- [ ] Rate Limiting 配置
- [ ] IP 白名单配置

### 4.2 数据安全

- [ ] 敏感信息加密存储
- [ ] 日志脱敏处理
- [ ] HTTPS 配置正确
- [ ] 数据备份策略

### 4.3 审计日志

- [ ] 操作日志完整
- [ ] 访问日志记录
- [ ] 错误日志记录
- [ ] 性能日志记录

## 5. 监控与告警

### 5.1 监控指标

- [ ] 业务指标：
  - [ ] 事件处理量
  - [ ] 处理延迟
  - [ ] 错误率
  - [ ] 风险分布
- [ ] 系统指标：
  - [ ] CPU 使用率
  - [ ] 内存使用率
  - [ ] 磁盘使用率
  - [ ] 网络 IO

### 5.2 监控配置

- [ ] Prometheus 采集正常
- [ ] Grafana 面板配置完整
- [ ] 告警规则配置合理
- [ ] 告警通知渠道畅通

## 6. 部署与运维

### 6.1 容器化

- [ ] Dockerfile 优化
- [ ] Docker Compose 配置完整
- [ ] 容器健康检查配置
- [ ] 资源限制配置

### 6.2 日志管理

- [ ] 日志格式规范
- [ ] 日志轮转配置
- [ ] 日志聚合配置
- [ ] 链路追踪配置

### 6.3 备份恢复

- [ ] 数据库备份策略
- [ ] 配置备份策略
- [ ] 恢复流程文档
- [ ] 恢复演练记录

## 7. 文档完整性

### 7.1 技术文档

- [ ] README.md 完整
- [ ] API 文档最新
- [ ] 架构文档完整
- [ ] 测试文档完整

### 7.2 运维文档

- [ ] 部署文档完整
- [ ] 运维手册完整
- [ ] 监控文档完整
- [ ] 故障处理文档完整

## 验收确认

| 角色       | 姓名 | 确认项             | 日期 | 签字 |
| ---------- | ---- | ------------------ | ---- | ---- |
| 开发负责人 |      | 代码质量、测试覆盖 |      |      |
| 运维负责人 |      | 部署、监控配置     |      |      |
| 安全负责人 |      | 安全加固、合规     |      |      |
| 产品负责人 |      | 功能验收           |      |      |
